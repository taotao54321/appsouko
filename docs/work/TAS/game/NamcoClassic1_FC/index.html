<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>ナムコクラシック(FC) TAS</title>
</head>

<body>

<h1>ナムコクラシック(FC) TAS</h1>

<p>ミスショット技の動画がないのは寂しい、ということで作成。この裏技はバグな
のか意図的に用意されたものなのか確認してませんが、どちらにせよ面白ければOKと
いうことで(最大飛距離のときパックマン風の形になるので後者なのかも)。</p>

<p><a href="NamCla.zip">fm2ファイル</a></p>
<iframe width="312" height="176" src="http://ext.nicovideo.jp/thumb/sm9549307" scrolling="no" style="border:solid 1px #CCC;" frameborder="0"><a href="http://www.nicovideo.jp/watch/sm9549307">【ニコニコ動画】[TAS] FC ナムコクラシック ラウンドプレイ 8番アイアン縛り (06:21.59)</a></iframe>


<h2>飛距離調査</h2>

<p>まず、同じ打ち方でもキャラごとに飛距離が異なります。キャラタイプは3段階あ
り、</p>
<ul>
  <li>飛ばし屋: しゃぼん、これすてろる、いえ～すまん</li>
  <li>普通: 主人公、なかのしま、あかき、ぽぱい、にたら～す、あんた～</li>
  <li>非力: すきっぱら、ありゃこ、くい～ん</li>
</ul>
<p>となっています。ただしミスショット技を使う場合はそれほど差は出ません。強
いて言えば飛ばし屋の3名が飛距離は最大ですが、この3名はカーソルのコントロール
が大雑把なのでかえって苦労すると思います。</p>

<p><a href="script.zip">飛距離調査スクリプト</a>による調査結果を置いておきま
す(1H、ティーショット)。主人公は全ての組み合わせ、その他のキャラはミスショッ
ト技が使えそうな範囲に絞って調べています:</p>
<ul>
  <li><a href="shot-Player.zip">主人公</a></li>
  <li><a href="shot-Shabon.zip">しゃぼん</a></li>
  <li><a href="shot-Koresuteroru_Yesman.zip">これすてろる、いえ～すまん</a></li>
  <li><a href="shot-Nakanoshima_Antaa.zip">なかのしま、あんた～</a></li>
  <li><a href="shot-Akaki.zip">あかき</a></li>
  <li><a href="shot-Nitaraasu_Popeye.zip">にたら～す、ぽぱい</a></li>
  <li><a href="shot-Queen_Sukippara.zip">くい～ん、すきっぱら</a></li>
  <li><a href="shot-Aryako.zip">ありゃこ</a></li>
</ul>
<p>同タイプキャラでも若干ズレが出ているところもあります(原因未調査)が、最大
飛距離は同タイプなら同じになるのであまり問題にはならないと思います。なお、パ
ワーが大きいとゲージの回転が速くなるため、実際には選択できないスピン値もある
ことに注意。</p>

<p>主人公の場合、ティーショットは 8I, パワー 0x5A, スピン 0x06 で飛距離が最
大になります。フェアウェイやラフについては調べてませんが、ティーショットで十
分に距離を稼げば後は適当でも何とかなるはず。</p>


<h2>乱数</h2>

<p>大抵のホールは乱数調整しなくても攻略可能だと思いますが、3番ホールだけは風
とカップ位置が適切でないとHIOが取れない場合があると思われます。</p>

<p>ホール開始前の $37 の値によって風とカップ位置が決まります。$37 の値はショッ
トおよびホール開始時にのみ更新されるので、一度ラウンドを開始してしまうと打数
を犠牲にせずに調整することはできないようです。よって、調整はゲーム起動直後に
予め済ませておく必要があります。</p>

<p>幸い、$37 はソフトリセットしても値が変化しないので、望みの値になったらリ
セットすることで調整できます。具体的には、トーナメントモード開始時に $37 の
値が数Fにわたって変化するので、そこでリセットをかければOKです(開始フレームが
同じでも、どのキャラを選んだかによって値が微妙に変わります。TASでは総当たり
によって最速パターンを探索しています)。</p>

<p>細かいことを言えば、トーナメントモード開始時は $37 が INC 命令によって1ず
つ増加しているので、フレーム境界以外でリセットすればフレーム待ちは必要なくな
るはずです(現在のエミュレータはフレーム境界以外でのリセットをムービーとして
記録できないので、今のところはフレーム待ちが必要)。</p>

<p>他の調整方法として、ラウンドプレイ中に A+B+select を押すバグ技を何度も繰
り返す方法もありますが、トーナメントモードを使う方法に比べると遅いです。</p>


<h2>雑多なこと</h2>

<p>パワー、スピンは同じ値でも決定するフレームがずれると結果が異なることが多
いです。また、打点をわずかにずらすとパワーゲージの滑り具合が変化したり、落下
点がわずかにずれたりする場合があります。</p>

<p>ラウンドプレイで A+B+select を押すと2P操作になり、その後1回打つとフリーズ
しますが、予め2Pモードで開始していればフリーズはしないようです。このフリーズ
は、2Pのデータが存在していないために特定のメモリが予期しない値になって無限ルー
プに陥るのが原因のようです。</p>

<p>カップ位置データは PRG #9 $92F6 にあります。ホール開始時のカップ位置と風
を決定する処理は PRG #15 $F5A8 にあります。</p>

<p>トーナメントモードで、敵キャラのショット時にSTARTを連打するとミスショット
してくれる、という裏技があります(ネタ元: 2ch 家庭用ゲーム板
<a href="http://piza.2ch.net/famicom/kako/964/964204521.html">誰も信じてくれないバグ</a>)。</p>


<h2>資料</h2>

<ul>
  <li><a href="memory.txt">メモリマップ</a></li>
</ul>


<h2>関連リンク</h2>

<ul>
  <li><a href="http://www.ne.jp/asahi/ssato/soul/create/nam_cla/nam_cla_main.htm">ナムコクラシック攻略メモ</a></li>
</ul>


<hr>

<p><a href="../../">Back</a></p>

</body>
</html>
